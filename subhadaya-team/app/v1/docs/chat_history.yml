tags:
  - Chat
summary: Get chat history for a user
description: Returns the last N messages for a given user, including the original message, the bot's reply, and sentiment analysis.
parameters:
  - name: X-API-Key
    in: header
    required: true
    type: string
    description: Your unique API key for authentication.
  - name: user_id
    in: query
    required: true
    type: string
    description: The unique identifier for the user.
    example: user-42
  - name: limit
    in: query
    required: false
    type: integer
    default: 10
    description: The maximum number of message records to return.
    example: 5
responses:
  200:
    description: A list of chat history records was successfully retrieved.
    schema:
      type: object
      properties:
        history:
          type: array
          items:
            type: object
            description: A single interaction record between a user and the bot.
            properties:
              id:
                type: integer
                description: The unique identifier for the chat message.
                example: 1
              user_id:
                type: string
                description: The ID of the user who sent the message.
                example: user-42
              text:
                type: string
                description: The original message sent by the user.
                example: "The service today was excellent."
              reply:
                type: string
                description: The reply generated by the bot.
                example: "That's wonderful to hear!"
              sentiment:
                type: string
                description: The sentiment of the user's message.
                enum: [POSITIVE, NEGATIVE, NEUTRAL]
                example: "POSITIVE"
              timestamp:
                type: string
                format: date-time
                description: The UTC timestamp of when the message was recorded.
                example: "2025-07-21T18:30:00Z"
  400:
    description: "Validation Error: The request is missing required parameters or they are of the wrong type."
  401:
    description: "Unauthorized: The provided X-API-Key is missing or invalid."